version: 0.0.{build}
configuration: Release
os: Visual Studio 2017

before_build:
  - nuget restore

# Run build script
build_script:
- cmd: PowerShell -Version 2.0 .\build.ps1

## Define artifacts
## artifacts:
##   - path: 'bin\Release\netcoreapp2.0\CachingManager.dll'
##     name: NuGetPackage.nupkg
## 
## Push nuget package
#deploy:
#  provider: NuGet
#  api_key:
#    secure: DTtkCPMfG9DVMN4i+GwUmRBrxMt63pIs7GbrRuHCwhZvTFc5BuY5bNAMsxGbgq2e
#  skip_symbols: true
#  artifact: /.*\.nupkg/
#  on:
#    # Only publish from the master branch
#    branch: master
#    # Only publish if the trigger was a Git tag
#    # appveyor_repo_tag: true